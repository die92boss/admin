<!DOCTYPE html>
<html lang="it">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" href="favicon.ico" type="image/x-icon" />
		<title>Guida Admin Windows</title>
		<style>
			:root {
				--body-bg-light: #f9f9f9;
				--body-text-light: #333;
				--heading-text-light: #1a1a1a;
				--code-bg-light: #eee;
				--code-text-light: #333;
				--note-bg-light: #d1ecf1;
				--note-border-light: #0c5460;
				--note-text-light: #0c5460;
				--warning-bg-light: #fff3cd;
				--warning-border-light: #ffeeba;
				--warning-text-light: #856404;
				--link-color-light: #007bff;
				--link-hover-light: #0056b3;
				--border-color-light: #ddd;

				--body-bg-dark: #1a202c;
				--body-text-dark: #e2e8f0;
				--heading-text-dark: #f7fafc;
				--code-bg-dark: #2d3748;
				--code-text-dark: #e2e8f0;
				--note-bg-dark: #2c3e50;
				--note-border-dark: #3498db;
				--note-text-dark: #ecf0f1;
				--warning-bg-dark: #4d3d00;
				--warning-border-dark: #f39c12;
				--warning-text-dark: #fef9e7;
				--link-color-dark: #63b3ed;
				--link-hover-dark: #90cdf4;
				--border-color-dark: #4a5568;

				--toggle-btn-bg-light: #9ca3af; /* Tailwind gray-400 */
				--toggle-btn-icon-color: white; /* Icone sono text-white */
				--toggle-btn-hover-bg-light: #6b7280; /* Tailwind gray-500 */

				--toggle-btn-bg-dark: #374151; /* Tailwind gray-700 */
				--toggle-btn-hover-bg-dark: #4b5563; /* Tailwind gray-600 */
			}

			body {
				font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
				background-color: var(--body-bg-light);
				color: var(--body-text-light);
				line-height: 1.6;
				max-width: 800px;
				margin: 0 auto;
				padding: 1rem;
				padding-top: 5rem;
				transition: background-color 0.3s ease, color 0.3s ease;
			}

			html.dark body {
				background-color: var(--body-bg-dark);
				color: var(--body-text-dark);
			}

			.site-header {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 0.75rem 1rem;
				background-color: var(--body-bg-light);
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
				z-index: 1000;
				max-width: 800px;
				margin: 0 auto;
				border-bottom: 1px solid var(--border-color-light);
				transition: background-color 0.3s ease, border-color 0.3s ease,
					box-shadow 0.3s ease;

				border-top-left-radius: 0;
				border-top-right-radius: 0;
				border-bottom-left-radius: 0.75rem;
				border-bottom-right-radius: 0.75rem;
			}
			html.dark .site-header {
				background-color: var(--body-bg-dark);
				box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
				border-bottom-color: var(--border-color-dark);
			}
			.site-header h1 {
				margin: 0;
				font-size: 1.5em;
			}
			body > h1:first-of-type {
				margin-top: 1rem;
			}

			h1,
			h2,
			h3 {
				color: var(--heading-text-light);
				transition: color 0.3s ease;
			}
			html.dark h1,
			html.dark h2,
			html.dark h3 {
				color: var(--heading-text-dark);
			}

			/* Add scroll margin to headings with IDs to offset for the fixed header */
			h2[id] {
				scroll-margin-top: 6rem;
			}

			code,
			pre {
				background-color: var(--code-bg-light);
				color: var(--code-text-light);
				padding: 0.3em 0.6em;
				border-radius: 4px;
				font-family: Consolas, monospace;
				transition: background-color 0.3s ease, color 0.3s ease;
			}
			pre {
				padding: 1em;
				overflow-x: auto;
				border: 1px solid var(--border-color-light);
			}
			html.dark code,
			html.dark pre {
				background-color: var(--code-bg-dark);
				color: var(--code-text-dark);
				border-color: var(--border-color-dark);
			}

			.note {
				background: var(--note-bg-light);
				border-left: 4px solid var(--note-border-light);
				color: var(--note-text-light);
				padding: 0.5em 1em;
				margin: 1em 0;
				transition: background-color 0.3s ease, color 0.3s ease,
					border-color 0.3s ease;
			}
			html.dark .note {
				background: var(--note-bg-dark);
				border-left-color: var(--note-border-dark);
				color: var(--note-text-dark);
			}

			.warning {
				background: var(--warning-bg-light);
				border-left: 4px solid var(--warning-border-light);
				color: var(--warning-text-light);
				padding: 0.5em 1em;
				margin: 1em 0;
				transition: background-color 0.3s ease, color 0.3s ease,
					border-color 0.3s ease;
			}
			html.dark .warning {
				background: var(--warning-bg-dark);
				border-left-color: var(--warning-border-dark);
				color: var(--warning-text-dark);
			}

			a {
				color: var(--link-color-light);
				text-decoration: none;
				transition: color 0.3s ease;
			}
			a:hover {
				color: var(--link-hover-light);
				text-decoration: underline;
			}
			html.dark a {
				color: var(--link-color-dark);
			}
			html.dark a:hover {
				color: var(--link-hover-dark);
			}

			ul {
				padding-left: 20px;
			}
			li {
				margin-bottom: 0.5em;
			}
			hr {
				border: 0;
				border-top: 1px solid var(--border-color-light);
				margin: 2em 0;
				transition: border-color 0.3s ease;
			}
			html.dark hr {
				border-top-color: var(--border-color-dark);
			}

			/* Specific list margins to replace inline styles */
			h3 + p + ol,
			li > ol {
				margin-top: 0.5em;
				margin-bottom: 0.5em;
			}
			li > ul {
				margin-top: 0.5em;
			}

			/* Footer paragraph style */
			body > p:last-of-type {
				text-align: center;
				margin-top: 2em;
				opacity: 0.7;
			}

			/* Table of Contents */
			.toc {
				background: var(--code-bg-light);
				border: 1px solid var(--border-color-light);
				padding: 1em;
				border-radius: 8px;
				margin-bottom: 2em;
			}
			html.dark .toc {
				background: var(--code-bg-dark);
				border-color: var(--border-color-dark);
			}
			.toc h2 {
				margin-top: 0;
				margin-bottom: 0.75em;
			}
			.toc ul {
				padding-left: 0;
				list-style-type: none;
				margin: 0;
			}
			.toc li {
				margin-bottom: 0.25em;
				border-radius: 6px;
				transition: background-color 0.2s ease-in-out;
			}
			.toc li:hover {
				background-color: rgba(0, 0, 0, 0.05);
			}
			html.dark .toc li:hover {
				background-color: rgba(255, 255, 255, 0.08);
			}
			div.toc ul li a,
			div.toc ul li a:hover {
				color: var(--body-text-light);
				text-decoration: none;
			}
			html.dark div.toc ul li a,
			html.dark div.toc ul li a:hover {
				color: var(--body-text-dark);
			}
			.toc a {
				display: block;
				padding: 0.5em 1em;
			}

			/* Copy Button for Code Blocks */
			pre {
				position: relative;
			}
			.copy-btn {
				position: absolute;
				top: 0.5em;
				right: 0.5em;
				background-color: var(--toggle-btn-bg-light);
				color: var(--toggle-btn-icon-color);
				border: none;
				padding: 0.3em 0.6em;
				border-radius: 4px;
				cursor: pointer;
				font-size: 0.9em;
				opacity: 0.7;
				transition: opacity 0.2s ease, background-color 0.2s ease;
			}
			.copy-btn:hover {
				opacity: 1;
				background-color: var(--toggle-btn-hover-bg-light);
			}
			html.dark .copy-btn {
				background-color: var(--toggle-btn-bg-dark);
			}
			html.dark .copy-btn:hover {
				background-color: var(--toggle-btn-hover-bg-dark);
			}
			.copy-btn.copied {
				background-color: #28a745; /* Success green */
			}

			.theme-toggle-button {
				background-color: var(--toggle-btn-bg-light);
				padding: 0.5rem; /* Equivalente a p-2 di Tailwind */
				border-radius: 0.375rem; /* Equivalente a rounded-md di Tailwind */
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: background-color 0.15s ease-in-out; /* duration-150 */
				border: none;
				line-height: 1; /* Per allineare meglio l'SVG se ci fosse testo */
			}
			.theme-toggle-button:hover {
				background-color: var(--toggle-btn-hover-bg-light);
			}
			.theme-toggle-button svg {
				width: 1.25rem; /* Equivalente a h-5 w-5 di Tailwind */
				height: 1.25rem;
				stroke: var(--toggle-btn-icon-color); /* Icona bianca come text-white */
				fill: none;
				stroke-width: 1.5; /* Coerente con gli SVG forniti */
			}

			/* Show moon icon in light mode */
			html:not(.dark) .icon-sun {
				display: none;
			}
			html:not(.dark) .icon-moon {
				display: block;
			}
			/* Show sun icon in dark mode */
			html.dark .icon-moon {
				display: none;
			}
			html.dark .icon-sun {
				display: block;
			}
			html.dark .theme-toggle-button {
				background-color: var(--toggle-btn-bg-dark);
			}
			html.dark .theme-toggle-button:hover {
				background-color: var(--toggle-btn-hover-bg-dark);
			}

			.download-button {
				display: inline-block;
				padding: 0.6em 1.2em;
				background-color: var(--link-color-light);
				color: white;
				text-decoration: none;
				border-radius: 4px;
				border: 1px solid transparent;
				font-weight: 500;
				transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
			}
			.download-button:hover {
				background-color: var(--link-hover-light);
				color: white;
				text-decoration: none;
			}
			html.dark .download-button {
				background-color: var(--link-color-dark);
				color: var(--body-bg-dark);
			}
			html.dark .download-button:hover {
				background-color: var(--link-hover-dark);
				color: var(--body-bg-dark);
			}
		</style>
	</head>
	<body>
		<header class="site-header">
			<h1>Guida Admin Windows</h1>
			<button
				id="themeToggle"
				class="theme-toggle-button"
				aria-label="Toggle theme"
				title="Toggle Light/Dark Mode"
			>
				<svg
					class="icon-sun"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 24 24"
					stroke-width="1.5"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
					/>
				</svg>
				<svg
					class="icon-moon"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 24 24"
					stroke-width="1.5"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M21.752 15.002A9.718 9.718 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
					/>
				</svg>
			</button>
		</header>

		<h1>Guida: Creare un Account Admin e Rimuovere ESET su Windows</h1>
		<p>
			Questa guida ti spiega passo per passo come creare un account
			amministratore su un PC Windows usando il Prompt dei comandi dalla
			modalit√† di ripristino, e come disinstallare manualmente prodotti ESET.
		</p>

		<div class="toc">
			<h2>Indice dei Contenuti</h2>
			<ul>
				<li><a href="#prerequisiti">1. Prerequisiti</a></li>
				<li><a href="#part1">2. Creazione dell'Account Admin</a></li>
				<li><a href="#part2">3. Ripristinare Utilman</a></li>
				<li><a href="#part3">4. Disinstallare Prodotti ESET</a></li>
				<li><a href="#sicurezza">5. Note sulla Sicurezza</a></li>
			</ul>
		</div>

		<h2 id="prerequisiti">1. Prerequisiti</h2>
		<ul>
			<li>
				<strong>Accesso fisico</strong> al computer. Questa procedura non pu√≤
				essere eseguita da remoto.
			</li>
			<li>
				Una conoscenza di base di come navigare nel
				<strong>Prompt dei comandi</strong> (<code>cd</code>, <code>dir</code>,
				etc.).
			</li>
			<li>
				Un <strong>backup dei dati importanti</strong>. Sebbene la procedura sia
				relativamente sicura, √® sempre buona norma avere un backup prima di
				apportare modifiche a livello di sistema.
			</li>
		</ul>
		<hr />

		<h2 id="part1">2. üõ†Ô∏è Creazione dell'Account Admin</h2>

		<h3>1. Riavviare il PC in Modalit√† di Ripristino</h3>
		<p>
			Tieni premuto <strong>Maiusc/Shift</strong> e clicca su
			<strong>Riavvia</strong> dal menu Start.
		</p>

		<h3>2. Aprire il Prompt dei Comandi</h3>
		<p>Dalla schermata di ripristino:</p>
		<ol>
			<li><strong>Risoluzione dei problemi</strong></li>
			<li><strong>Opzioni avanzate</strong></li>
			<li><strong>Prompt dei comandi</strong></li>
		</ol>

		<h3>3. Sostituire Utilman con il Prompt dei comandi</h3>
		<p>Inserisci i seguenti comandi, uno alla volta, premendo Invio dopo ognuno:</p>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>C:</code></pre>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>cd Windows\System32</code></pre>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>ren Utilman.exe Utilman.exe.bak</code></pre>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>copy cmd.exe Utilman.exe</code></pre>
		<div class="note">
			La lettera potrebbe variare in base alla partizione dove √® installato
			Windows; di default √® <code>C</code>.
		</div>

		<h3>4. Riavvia il PC</h3>
		<p>
			Chiudi il Prompt dei comandi cliccando la <strong>X</strong> in alto a
			destra e riavvia il computer.
		</p>

		<h3>5. Aprire il Prompt dei comandi dalla schermata di accesso</h3>
		<p>
			Alla schermata di login, clicca sull‚Äô<strong
				>icona dell‚Äôaccessibilit√†</strong
			>
			(l‚Äôomino stilizzato in basso a destra). Si aprir√† il Prompt dei comandi.
		</p>

		<h3>6. Creare l‚Äôaccount amministratore</h3>
		<p>
			Sostituisci <code>NomeUtente</code> e <code>Password</code> con i dati
			desiderati ed esegui questi due comandi, uno alla volta:
		</p>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>net user NomeUtente Password /add</code></pre>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>net localgroup administrators NomeUtente /add</code></pre>

		<h3>7. Accedere con il nuovo utente</h3>
		<ul>
			<li>
				Alla schermata di accesso, seleziona <strong>Altro utente</strong>
			</li>
			<li>Inserisci le credenziali dell‚Äôaccount appena creato</li>
			<li>
				<strong>IMPORTANTE</strong>: metti <code>.\</code> prima del nome utente
				per forzare l‚Äôaccesso locale: <code>.\NomeUtente</code>
			</li>
		</ul>

		<h3>8. Verifica dei privilegi</h3>
		<p>
			Dopo l‚Äôaccesso, premi <code>Win + X</code> e clicca su
			<strong>Terminale (Admin)</strong> per verificare di avere i privilegi da
			amministratore.
		</p>
		<hr />

		<h2 id="part2">3. ‚ôªÔ∏è Ripristinare Utilman</h2>

		<h3>1. Riavviare in Modalit√† di Ripristino</h3>
		<p>Segui lo stesso procedimento di prima.</p>

		<h3>2. Aprire il Prompt dei Comandi</h3>
		<p>Inserisci i seguenti comandi, uno alla volta, premendo Invio dopo ognuno:</p>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>C:</code></pre>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>cd Windows\System32</code></pre>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>del Utilman.exe</code></pre>
		<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>ren Utilman.exe.bak Utilman.exe</code></pre>

		<h3>3. Riavviare il PC</h3>
		<p>
			Alla schermata di accesso, l‚Äôicona dell‚Äôaccessibilit√† ora aprir√† di nuovo
			il menu corretto.
		</p>
		<hr />

		<h2 id="part3">4. üóëÔ∏è Disinstallare Prodotti ESET</h2>
		<p>
			Questa sezione descrive come utilizzare lo strumento ESET Uninstaller per
			rimuovere un prodotto ESET quando i metodi di disinstallazione standard
			falliscono. <strong>Usare questo strumento come ultima risorsa.</strong>
		</p>

		<div class="warning">
			<p><strong>Attenzione:</strong></p>
			<ul>
				<li>
					Prima di procedere, assicurati di avere un
					<strong>backup dei dati importanti</strong>.
				</li>
				<li>
					L'utilizzo di ESET Uninstaller potrebbe
					<strong>resettare le impostazioni di rete di Windows</strong>.
				</li>
				<li>
					√à necessario riavviare il PC in <strong>Modalit√† Provvisoria</strong>.
				</li>
			</ul>
		</div>

		<h3>1. Scaricare ESET Uninstaller</h3>
		<p>
			Scarica lo strumento dal seguente link e salvalo sul Desktop o in una
			cartella facilmente accessibile:<br /><br />
			<a
				href="https://download.eset.com/com/eset/tools/installers/eset_apps_remover/latest/uninstaller.exe"
				target="_blank"
				rel="noopener noreferrer"
				class="download-button"
				>Scarica ESET Uninstaller</a
			>
		</p>

		<h3>2. Riavviare il PC in Modalit√† Provvisoria</h3>
		<p><strong>Metodo principale</strong> (Opzioni di avvio avanzate):</p>
		<ul>
			<li>
				Tenere premuto il tasto <strong>Maiusc/Shift</strong> e cliccare su
				<strong>Riavvia</strong> (dal menu Start o dalla schermata di accesso).
			</li>
			<li>
				Alla schermata di riavvio, selezionare:
				<ol>
					<li><strong>Risoluzione dei problemi</strong></li>
					<li><strong>Opzioni avanzate</strong></li>
					<li>
						<strong>Impostazioni di avvio</strong> (se non visibile, cercare
						"Visualizza altre opzioni di ripristino")
					</li>
				</ol>
			</li>
			<li>Cliccare su <strong>Riavvia</strong>.</li>
			<li>
				Al successivo riavvio, premere il tasto numerico corrispondente
				all'opzione desiderata:
				<ul>
					<li>
						<strong>4</strong> o <strong>F4</strong> per "Abilita modalit√†
						provvisoria".
					</li>
					<li>
						<strong>5</strong> o <strong>F5</strong> per "Abilita modalit√†
						provvisoria con rete" (se ESET Uninstaller deve essere scaricato).
					</li>
				</ul>
			</li>
		</ul>
		<p><strong>Metodo alternativo</strong> (tramite <code>msconfig</code>):</p>
		<ul>
			<li>
				Premere <code>Win + R</code>, digitare <code>msconfig</code> e premere
				Invio.
			</li>
			<li>Accedere alla scheda <strong>Opzioni di avvio</strong>.</li>
			<li>
				Selezionare <strong>Modalit√† provvisoria</strong> ("Minima" o "Rete").
			</li>
			<li>Cliccare <strong>OK</strong>, quindi <strong>Riavvia</strong>.</li>
			<li>
				<strong>Nota:</strong> Se si utilizza <code>msconfig</code>, √®
				imperativo rieseguire <code>msconfig</code> in Modalit√† Provvisoria e
				deselezionare "Modalit√† provvisoria" prima del riavvio finale, per
				evitare avvii successivi in questa modalit√†.
			</li>
		</ul>

		<h3>3. Eseguire ESET Uninstaller</h3>
		<ul>
			<li>
				Una volta in Modalit√† Provvisoria, apri il
				<strong>Prompt dei comandi come amministratore</strong>:
				<ul>
					<li>Cerca "cmd" nel menu Start.</li>
					<li>
						Clicca con il tasto destro su "Prompt dei comandi" e seleziona
						"Esegui come amministratore".
					</li>
				</ul>
			</li>
			<li>
				Naviga alla directory dove hai salvato <code>esetuninstaller.exe</code>.
				Ad esempio, se l'hai salvato sul Desktop del tuo utente:
				<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>cd C:\Users\NomeUtente\Desktop</code></pre>
				<em
					>(Sostituisci <code>NomeUtente</code> con il nome effettivo del tuo
					profilo utente)</em
				>
			</li>
			<li>
				Esegui lo strumento digitando:
				<pre><button class="copy-btn" title="Copy to Clipboard">Copia</button><code>esetuninstaller.exe</code></pre>
			</li>
			<li>
				Leggi attentamente le avvertenze e digita <code>y</code> per confermare.
			</li>
			<li>
				Lo strumento elencher√† i prodotti ESET installati. Digita il numero
				corrispondente al prodotto che vuoi rimuovere e premi Invio.
			</li>
			<li>Conferma nuovamente la disinstallazione digitando <code>y</code>.</li>
			<li>
				Al termine del processo, lo strumento ti chieder√† di riavviare il
				computer. Premi un tasto qualsiasi per chiudere lo strumento.
			</li>
		</ul>

		<h3>4. Riavviare in Modalit√† Normale</h3>
		<ul>
			<li>
				Prima di riavviare, se hai usato <code>msconfig</code> per entrare in
				Modalit√† Provvisoria, rieseguilo e deseleziona "Modalit√† provvisoria"
				nella scheda "Opzioni di avvio".
			</li>
			<li>Riavvia il computer.</li>
			<li>
				Dopo il riavvio, elimina il file <code>esetuninstaller.exe</code> dal
				Desktop (o da dove l'avevi salvato).
			</li>
		</ul>
		<p>Il prodotto ESET dovrebbe essere stato rimosso.</p>
		<hr />

		<h2 id="sicurezza">5. ‚ÑπÔ∏è Note sulla Sicurezza</h2>
		<ul>
			<li>
				<strong>Maiusc/Shift ‚â† Bloc Maiusc</strong>: usa il tasto corretto!
			</li>
			<li>
				Questi metodi sono utili se hai accesso fisico al PC ma hai perso
				l‚Äôaccount principale o hai problemi con software specifici.
			</li>
			<li>
				Usali solo in contesti leciti e con autorizzazione, o sul tuo 
				computer personale.
			</li>
		</ul>

		<p>
			¬© Guida a scopo didattico
		</p>

		<script>
			const themeToggle = document.getElementById("themeToggle");
			const htmlElement = document.documentElement;

			function applyTheme(theme) {
				if (theme === "dark") {
					htmlElement.classList.add("dark");
					themeToggle.setAttribute("title", "Passa a Light Mode");
					themeToggle.setAttribute("aria-label", "Switch to light mode");
				} else {
					htmlElement.classList.remove("dark");
					themeToggle.setAttribute("title", "Passa a Dark Mode");
					themeToggle.setAttribute("aria-label", "Switch to dark mode");
				}
			}

			function toggleTheme() {
				const currentIsDark = htmlElement.classList.contains("dark");
				const newTheme = currentIsDark ? "light" : "dark";
				applyTheme(newTheme);
				localStorage.setItem("themePreference", newTheme);
			}

			// --- Copy to Clipboard Functionality ---
			document.querySelectorAll(".copy-btn").forEach((button) => {
				button.addEventListener("click", () => {
					const codeBlock = button.nextElementSibling; // The <code> element
					const textToCopy = codeBlock.innerText;

					navigator.clipboard
						.writeText(textToCopy)
						.then(() => {
							button.textContent = "Copiato!";
							button.classList.add("copied");
							setTimeout(() => {
								button.textContent = "Copia";
								button.classList.remove("copied");
							}, 2000);
						})
						.catch((err) => {
							console.error("Failed to copy text: ", err);
							button.textContent = "Errore";
						});
				});
			});

			const savedTheme = localStorage.getItem("themePreference");
			const systemPrefersDark = window.matchMedia(
				"(prefers-color-scheme: dark)"
			).matches;

			if (savedTheme) {
				applyTheme(savedTheme);
			} else {
				applyTheme(systemPrefersDark ? "dark" : "light");
			}

			themeToggle.addEventListener("click", toggleTheme);

			window
				.matchMedia("(prefers-color-scheme: dark)")
				.addEventListener("change", (e) => {
					if (!localStorage.getItem("themePreference")) {
						applyTheme(e.matches ? "dark" : "light");
					}
				});
		</script>
	</body>
</html>

